{"version":3,"sources":["../../src/lib/layout/Layout.tsx"],"names":["React","TopBar","DocumentTitle","Menu","withScreenSize","LayoutWrapper","styled","div","LayoutHeader","LayoutBody","LayoutBodyLeft","LayoutBodyRight","state","menuOpen","onCloseMenu","setState","onMenuToggle","menuIsOpen","onClickContent","props","screenSize","mobile","docTitle","title","topMenuContent","menuContent","children","PureComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAAQC,cAAR,QAA6C,eAA7C,C,CAEA;;AACA,OAAO,IAAMC,aAAa,GAAGC,OAAM,CAACC,GAAV;AAAA;AAAA;AAAA,uDAAnB,C,CAMP;;AACA,OAAO,IAAMC,YAAY,GAAGF,OAAM,CAACC,GAAV;AAAA;AAAA;AAAA,QAAlB,C,CAIP;;AACA,OAAO,IAAME,UAAU,GAAGH,OAAM,CAACC,GAAV;AAAA;AAAA;AAAA,yCAAhB,C,CAMP;;AACA,OAAO,IAAMG,cAAc,GAAGJ,OAAM,CAACC,GAAV;AAAA;AAAA;AAAA,QAApB,C,CAIP;;AACA,OAAO,IAAMI,eAAe,GAAGL,OAAM,CAACC,GAAV;AAAA;AAAA;AAAA,yDAArB;AAoBP,eAAeH,cAAc;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,UAQzBQ,KARyB,GAQJ;AACjBC,MAAAA,QAAQ,EAAE;AADO,KARI;;AAAA,UAYzBC,WAZyB,GAYX;AAAA,aAAM,MAAKC,QAAL,CAAc;AAACF,QAAAA,QAAQ,EAAE;AAAX,OAAd,CAAN;AAAA,KAZW;;AAAA,UAazBG,YAbyB,GAaV;AAAA,aAAM,MAAKD,QAAL,CAAc,UAAAH,KAAK;AAAA,eAAK;AAACC,UAAAA,QAAQ,EAAE,CAAC,MAAKI,UAAL;AAAZ,SAAL;AAAA,OAAnB,CAAN;AAAA,KAbU;;AAAA,UAoBzBC,cApByB,GAoBR,YAAM;AACnB,UAAG,MAAKC,KAAL,CAAWC,UAAX,CAAsBC,MAAtB,IAAgC,MAAKJ,UAAL,EAAnC,EAAqD;AACjD,cAAKH,WAAL;AACH;AACJ,KAxBwB;;AAAA;AAAA;;AAAA;AAAA;AAAA,iCAcb;AACR,UAAG,KAAKF,KAAL,CAAWC,QAAX,KAAwB,IAA3B,EAAgC;AAC5B,eAAO,CAAC,KAAKM,KAAL,CAAWC,UAAX,CAAsBC,MAA9B;AACH;;AACD,aAAO,KAAKT,KAAL,CAAWC,QAAlB;AACH;AAnBwB;AAAA;AAAA,6BA0BjB;AACJ,aACI,oBAAC,aAAD,QACI,oBAAC,aAAD;AAAe,QAAA,IAAI,EAAE,KAAKM,KAAL,CAAWG;AAAhC,QADJ,EAEI,oBAAC,YAAD,QACI,oBAAC,MAAD;AACI,QAAA,KAAK,EAAE,KAAKH,KAAL,CAAWI,KADtB;AAEI,QAAA,YAAY,EAAE,KAAKP,YAFvB;AAGI,QAAA,MAAM,EAAE,KAAKG,KAAL,CAAWC,UAAX,CAAsBC;AAHlC,SAKK,KAAKF,KAAL,CAAWK,cALhB,CADJ,CAFJ,EAWI,oBAAC,UAAD,QACI,oBAAC,cAAD;AAAgB,QAAA,OAAO,EAAE,KAAKN;AAA9B,SACI,oBAAC,IAAD;AAAM,QAAA,MAAM,EAAE,KAAKC,KAAL,CAAWC,UAAX,CAAsBC,MAApC;AAA4C,QAAA,IAAI,EAAE,KAAKJ,UAAL,EAAlD;AAAqE,QAAA,OAAO,EAAE,KAAKH;AAAnF,SACK,KAAKK,KAAL,CAAWM,WADhB,CADJ,CADJ,EAMI,oBAAC,eAAD,QACK,KAAKN,KAAL,CAAWO,QADhB,CANJ,CAXJ,CADJ;AAwBH;AAnDwB;;AAAA;AAAA,EAAsB1B,KAAK,CAAC2B,aAA5B,UAA7B","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components/macro'\nimport TopBar from './Topbar'\nimport DocumentTitle from './DocumentTitle'\nimport Menu from './Menu'\nimport {withScreenSize, ScreenSizeData} from '../ScreenSize'\n\n// Wrap everything\nexport const LayoutWrapper = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column; // Flex header and body from top to bottom\n`\n\n// Put topbar in here\nexport const LayoutHeader = styled.div`\n  \n`\n\n// Put everything below topbar here\nexport const LayoutBody = styled.div`\n  flex: 1; // Fill the rest of the page after header has taken its space\n  min-height: 0;\n  display: flex;\n`\n\n// Put menu here\nexport const LayoutBodyLeft = styled.div`\n\n`\n\n// Put your app here\nexport const LayoutBodyRight = styled.div`\n  flex: 1;\n  min-height: 0;\n  padding: 15px;\n  overflow-y: auto;\n`\n\ntype LayoutProps = {\n    title: string\n    docTitle: string\n    menuContent?: React.ReactNode\n    topMenuContent?: React.ReactNode\n} & {\n    screenSize: ScreenSizeData\n}\n\ntype LayoutState = {\n    menuOpen: boolean | null\n}\n\nexport default withScreenSize(class Layout extends React.PureComponent<LayoutProps, LayoutState>{\n    static propTypes = {\n        title: PropTypes.string.isRequired,\n        docTitle: PropTypes.string.isRequired,\n        menuContent: PropTypes.node,\n        topMenuContent: PropTypes.node\n    }\n\n    state: LayoutState = {\n        menuOpen: null\n    }\n\n    onCloseMenu = () => this.setState({menuOpen: false})\n    onMenuToggle = () => this.setState(state => ({menuOpen: !this.menuIsOpen()}))\n    menuIsOpen(){\n        if(this.state.menuOpen === null){\n            return !this.props.screenSize.mobile\n        }\n        return this.state.menuOpen\n    }\n    onClickContent = () => {\n        if(this.props.screenSize.mobile && this.menuIsOpen()){\n            this.onCloseMenu()\n        }\n    }\n\n    render(){\n        return (\n            <LayoutWrapper>\n                <DocumentTitle text={this.props.docTitle} />\n                <LayoutHeader>\n                    <TopBar\n                        title={this.props.title}\n                        onMenuToggle={this.onMenuToggle}\n                        mobile={this.props.screenSize.mobile}\n                    >\n                        {this.props.topMenuContent}\n                    </TopBar>\n                </LayoutHeader>\n                <LayoutBody>\n                    <LayoutBodyLeft onClick={this.onClickContent}>\n                        <Menu mobile={this.props.screenSize.mobile} open={this.menuIsOpen()} onClose={this.onCloseMenu}>\n                            {this.props.menuContent}\n                        </Menu>\n                    </LayoutBodyLeft>\n                    <LayoutBodyRight>\n                        {this.props.children}\n                    </LayoutBodyRight>\n                </LayoutBody>\n            </LayoutWrapper>\n        )\n    }\n})"],"file":"Layout.js"}