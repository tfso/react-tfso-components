{"version":3,"sources":["../../src/lib/layout/Menu.tsx"],"names":["React","List","Drawer","Link","Collapse","IconButton","ExpandLess","ExpandMore","ListItemIcon","ListItemText","ListItem","ListItemSecondaryAction","Divider","StyledDrawer","styled","attrs","classes","paper","open","theme","tfso","colors","menu","menuItemText","Menu","props","mobile","onClose","children","PureComponent","MenuContent","ListItemWrapper","expanded","MenuGroupListItem","menuExpanded","MenuGroupExpandLess","MenuGroupExpandMore","MenuGroup","onToggleExpanded","e","stopPropagation","Icon","icon","marginRight","color","subtitle","variant","label","RootListItem","RootListItemIcon","MenuRootItem","LinkContent","selected","href","NestedListItem","NestedListItemIcon","MenuItem"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List'\nimport Drawer from '@material-ui/core/Drawer'\nimport Link from '@material-ui/core/Link'\nimport Collapse from '@material-ui/core/Collapse'\nimport IconButton from '@material-ui/core/IconButton'\nimport ExpandLess from '@material-ui/icons/ExpandLess'\nimport ExpandMore from '@material-ui/icons/ExpandMore'\nimport styled from 'styled-components/macro'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItem, {ListItemProps} from '@material-ui/core/ListItem'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport {SvgIconProps} from '@material-ui/core/SvgIcon'\nimport Divider from '@material-ui/core/Divider'\n\nconst StyledDrawer = styled(Drawer).attrs({\n    classes: {paper: 'MuiPaperStyle'}\n})`\n    &&{\n      width: ${({open}) => open ? 240 : 0}px;\n      height: 100%;\n    }\n    \n    .MuiPaperStyle{\n      position: static;\n      background-color: ${({theme}) => theme.tfso.colors.menu};\n      color: ${({theme}) => theme.tfso.colors.menuItemText};\n    }\n` as typeof Drawer\n\nexport type MenuProps = {\n    open: boolean\n    onClose: () => void\n    mobile: boolean\n    children: React.ReactNode\n}\n\nexport default class Menu extends React.PureComponent<MenuProps>{\n    static propTypes = {\n        open: PropTypes.bool.isRequired,\n        onClose: PropTypes.func.isRequired,\n        mobile: PropTypes.bool.isRequired,\n        children: PropTypes.node.isRequired\n    }\n\n    render(){\n        return (\n            <StyledDrawer variant={this.props.mobile ? 'temporary' : 'persistent'} elevation={0} open={this.props.open} onClose={this.props.onClose}>\n                <List color=\"inherit\" disablePadding>\n                    {this.props.children}\n                </List>\n            </StyledDrawer>\n        )\n    }\n}\n\nexport const MenuContent = props => <>{props.children}</>\n\nexport type MenuGroupProps = {\n    icon: React.ComponentType<SvgIconProps>\n    subtitle: string\n    label: string\n    onToggleExpanded: () => void\n    expanded: boolean\n    children: React.ReactNode\n}\n\nconst ListItemWrapper = ({expanded, ...props}: ListItemProps & {expanded: boolean}) => <ListItem {...props} />\nconst MenuGroupListItem = styled(ListItemWrapper)`&&{\n    background-color: ${({theme, expanded}) => expanded ? theme.tfso.colors.menuExpanded : theme.tfso.colors.menu};\n    color: ${({theme}) => theme.tfso.colors.menuItemText};\n}` as typeof ListItemWrapper\n\nconst MenuGroupExpandLess = styled(ExpandLess)`&&{\n    color: ${({theme}) => theme.tfso.colors.menuItemText};\n    \n}` as typeof ExpandLess\n\nconst MenuGroupExpandMore = styled(ExpandMore)`&&{\n    color: ${({theme}) => theme.tfso.colors.menuItemText};\n    \n}` as typeof ExpandMore\n\nexport class MenuGroup extends React.PureComponent<MenuGroupProps>{\n    static propTypes = {\n        icon: PropTypes.elementType.isRequired,\n        subtitle: PropTypes.string.isRequired,\n        label: PropTypes.string.isRequired,\n        onToggleExpanded: PropTypes.func.isRequired,\n        expanded: PropTypes.bool.isRequired,\n        children: PropTypes.node.isRequired\n    }\n\n    onToggleExpanded = e => {\n        // Stop propagation to let parent layout close mobile menu on clicks that do navigation\n        e.stopPropagation()\n        this.props.onToggleExpanded()\n    }\n\n    render(){\n        const Icon = this.props.icon\n        return (\n            <>\n                <MenuGroupListItem divider expanded={this.props.expanded} button onClick={this.onToggleExpanded}>\n                    <ListItemIcon style={{marginRight: 0, color: 'inherit'}}><Icon fontSize=\"small\"/></ListItemIcon>\n                    <ListItemText\n                        secondary={this.props.subtitle}\n                        primaryTypographyProps={{color: 'inherit'}}\n                        secondaryTypographyProps={{variant: 'caption', color: 'inherit'}}\n                    >\n                        {this.props.label}\n                    </ListItemText>\n                    <ListItemSecondaryAction>\n                        <IconButton onClick={this.onToggleExpanded}>\n                            {this.props.expanded ? <MenuGroupExpandLess /> : <MenuGroupExpandMore />}\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </MenuGroupListItem>\n                <Collapse in={this.props.expanded} timeout=\"auto\">\n                    <List dense disablePadding>\n                        {this.props.children}\n                    </List>\n                    <Divider />\n                </Collapse>\n            </>\n        )\n    }\n}\n\nexport type MenuRootItemProps = {\n    icon: React.ComponentType<SvgIconProps>\n    subtitle: string\n    label: string\n    selected: boolean\n    href?: string | ((content: React.ReactChild) => React.ReactChild)\n}\n\nconst RootListItem = styled(ListItem)`&&{\n    background-color: ${({theme}) => theme.tfso.colors.menu};\n    color: ${({theme}) => theme.tfso.colors.menuItemText};\n    \n}` as typeof ListItem\n\nconst RootListItemIcon = styled(ListItemIcon)`&&{\n    color: ${({theme}) => theme.tfso.colors.menuItemText};\n    \n}` as typeof ListItemIcon\n\nexport class MenuRootItem extends React.PureComponent<MenuRootItemProps>{\n    static propTypes = {\n        icon: PropTypes.elementType.isRequired,\n        subtitle: PropTypes.string.isRequired,\n        label: PropTypes.string.isRequired,\n        selected: PropTypes.bool.isRequired,\n        href: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n    }\n\n    render(){\n        const Icon = this.props.icon\n\n        const LinkContent = (\n            <RootListItem divider button>\n                <RootListItemIcon style={{marginRight: 0}}><Icon fontSize=\"small\" color={this.props.selected ? 'inherit' : 'inherit'}/></RootListItemIcon>\n                <ListItemText\n                    secondary={this.props.subtitle}\n                    primaryTypographyProps={{color: this.props.selected ? 'primary' : 'inherit'}}\n                    secondaryTypographyProps={{variant: 'caption', color: 'inherit'}}\n                >\n                    {this.props.label}\n                </ListItemText>\n            </RootListItem>\n        )\n\n        return (\n            <>\n                {typeof this.props.href === 'string'\n                    ? <Link href={this.props.href}>{LinkContent}</Link>\n                    : this.props.href\n                        ? this.props.href(LinkContent)\n                        : LinkContent\n                }\n            </>\n        )\n    }\n}\n\nexport type MenuItemProps = {\n    icon?: React.ComponentType<SvgIconProps>\n    label: string\n    selected: boolean\n    href: string | ((content: React.ReactChild) => React.ReactChild)\n}\n\nconst NestedListItem = styled(ListItem)`&&{\n    padding-left: 52px;\n    background-color: ${({theme}) => theme.tfso.colors.menuExpanded};\n    color: ${({theme}) => theme.tfso.colors.menuItemText};\n    :hover{\n      background-color: ${({theme}) => theme.tfso.colors.menu}; \n    }\n    \n}` as typeof ListItem\n\nconst NestedListItemIcon = styled(ListItemIcon)`&&{\n      color: ${({theme}) => theme.tfso.colors.menuItemText};\n}` as typeof ListItemIcon\n\nexport class MenuItem extends React.PureComponent<MenuItemProps>{\n    static propTypes = {\n        icon: PropTypes.elementType,\n        label: PropTypes.string.isRequired,\n        selected: PropTypes.bool.isRequired,\n        href: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n    }\n\n    render(){\n        const Icon = this.props.icon\n        const LinkContent = (\n            <NestedListItem >\n                {Icon &&\n                <NestedListItemIcon color=\"inherit\" style={{marginRight: 0}}><Icon fontSize=\"small\" color={this.props.selected ? 'primary' : 'inherit'}/></NestedListItemIcon>\n                }\n                <ListItemText primaryTypographyProps={{color: this.props.selected ? 'primary' : 'inherit'}}>{this.props.label}</ListItemText>\n            </NestedListItem>\n        )\n\n        return (\n            <>\n                {typeof this.props.href === 'string'\n                    ? <Link href={this.props.href}>{LinkContent}</Link>\n                    : this.props.href(LinkContent)\n                }\n            </>\n        )\n    }\n}"],"file":"Menu.js"}